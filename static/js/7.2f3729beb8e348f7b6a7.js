webpackJsonp([7],{CCUp:function(e,t,a){"use strict";t.c=function(e){return Object(l.a)({url:"/company",method:"Post",params:e})},t.a=function(e){return Object(l.a)({url:"/company/add",method:"Post",data:e})},t.b=function(e){return Object(l.a)({url:"/company/update",method:"post",data:e})};var l=a("vLgD")},X1jK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("CCUp"),o={data:function(){return{editDialog:!1,addDialog:!1,company:{companycode:"",rowid:"",cname:"",tel:"",address:"",creatid:"",creatdate:"",updaid:"",updadate:"",remark:""},listQuery:{page:0,size:10},listLoading:!0,list:[],pageNum:0,pages:0,pageSize:0,size:0,total:0}},created:function(){this.getList()},computed:{},methods:{addClick:function(){this.addDialog=!0,this.company={cname:"",tel:"",address:"",creatid:"",creatdate:"",updaid:"",updadate:"",remark:""}},add:function(){var e=this;this.addDialog=!1,Object(l.a)(this.company).then(function(t){e.getList(),console.log("组件内数据"+t),e.$message({showClose:!0,message:"添加成功",type:"success"})})},handleDoubleClick:function(e,t){console.log(e),console.log(t),this.editDialog=!0,this.company=e},handleClick:function(e){this.editDialog=!0,this.company=e},updata:function(){var e=this;this.editDialog=!1,Object(l.b)(this.company).then(function(t){console.log("组件内数据"+t),e.$message({showClose:!0,message:"修改成功",type:"success"})})},getList:function(){var e=this;this.listLoading=!0,Object(l.c)(this.listQuery).then(function(t){e.list=t.data.list,e.pages=t.data.pages,e.pageSize=t.data.pageSize,e.total=t.data.total,e.pageNum=t.data.pageNum,console.log("获取列表"),console.log(t),e.listLoading=!1}).catch(function(t){console.log("组件内接受错误"+t),e.listLoading=!1})},handleSizeChange:function(e){this.listQuery.size=e,this.getList(),console.log("每页 "+e+" 条")},handleCurrentChange:function(e){this.listQuery.page=e,this.getList(),console.log("当前页: "+e)},prevClick:function(){++this.listQuery.size,this.getList()},nextClick:function(){--this.listQuery.size,this.getList()}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table"},[a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{attrs:{type:"success",icon:"search"},on:{click:e.addClick}},[e._v("新增")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,border:"","highlight-current-row":""},on:{"row-dblclick":e.handleDoubleClick}},[a("el-table-column",{attrs:{fixed:"",prop:"companycode",width:"280",label:"公司代码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cname",label:"公司名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"公司电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"公司地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"creatid",label:"创建者"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("parseTime")(t.row.creatdate,"{y}-{m}-{d} {h}:{i}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"updaid",label:"修改者"}}),e._v(" "),a("el-table-column",{attrs:{label:"修改日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("parseTime")(t.row.updadate,"{y}-{m}-{d} {h}:{i}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){e.handleClick(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.total,"page-sizes":[10,15,20,50],"page-size":e.size,"current-page":e.pageNum},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"prev-click":e.prevClick,"next-click":e.nextClick}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"公司详细信息",visible:e.editDialog,width:"800px"},on:{"update:visible":function(t){e.editDialog=t}}},[a("el-form",{ref:"form",attrs:{model:e.company,"label-width":"170px","margin-right":"100px"}},[a("el-form-item",{attrs:{label:"公司唯一编号(不可修改)"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.company.rowid,callback:function(t){e.$set(e.company,"rowid",t)},expression:"company.rowid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司代码(设置不可修改)"}},[a("el-input",{model:{value:e.company.companycode,callback:function(t){e.$set(e.company,"companycode",t)},expression:"company.companycode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司名称"}},[a("el-input",{model:{value:e.company.cname,callback:function(t){e.$set(e.company,"cname",t)},expression:"company.cname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司电话"}},[a("el-input",{model:{value:e.company.tel,callback:function(t){e.$set(e.company,"tel",t)},expression:"company.tel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司地址"}},[a("el-input",{model:{value:e.company.address,callback:function(t){e.$set(e.company,"address",t)},expression:"company.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注信息"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:6},placeholder:"请输入内容"},model:{value:e.company.remark,callback:function(t){e.$set(e.company,"remark",t)},expression:"company.remark"}})],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"创建者"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.company.creatid,callback:function(t){e.$set(e.company,"creatid",t)},expression:"company.creatid"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"创建日期"}},[a("el-date-picker",{attrs:{label:"创建日期",disabled:!0},model:{value:e.company.creatdate,callback:function(t){e.$set(e.company,"creatdate",t)},expression:"company.creatdate"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"修改者"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.company.updaid,callback:function(t){e.$set(e.company,"updaid",t)},expression:"company.updaid"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"修改日期"}},[a("el-date-picker",{attrs:{disabled:!0},model:{value:e.company.updadate,callback:function(t){e.$set(e.company,"updadate",t)},expression:"company.updadate"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.updata}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增公司",visible:e.addDialog,width:"60%"},on:{"update:visible":function(t){e.addDialog=t}}},[a("el-form",{ref:"form",attrs:{model:e.company,"label-width":"150px","margin-right":"100px"}},[a("el-form-item",{attrs:{label:"公司名称"}},[a("el-input",{model:{value:e.company.cname,callback:function(t){e.$set(e.company,"cname",t)},expression:"company.cname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司代码"}},[a("el-input",{model:{value:e.company.companycode,callback:function(t){e.$set(e.company,"companycode",t)},expression:"company.companycode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司电话"}},[a("el-input",{model:{value:e.company.tel,callback:function(t){e.$set(e.company,"tel",t)},expression:"company.tel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司地址"}},[a("el-input",{model:{value:e.company.address,callback:function(t){e.$set(e.company,"address",t)},expression:"company.address"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")(o,n,!1,function(e){a("xyW0")},"data-v-a67e5dac",null);t.default=i.exports},xyW0:function(e,t){}});
//# sourceMappingURL=7.2f3729beb8e348f7b6a7.js.map